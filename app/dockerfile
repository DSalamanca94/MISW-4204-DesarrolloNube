# syntax=docker/dockerfile:1

FROM python:3.10-alpine

WORKDIR /app

COPY requirements.txt requirements.txt
RUN pip3 install -r requirements.txt

RUN mkdir /app/temp

# Add FFmpeg source repository and install FFmpeg
RUN apk add --no-cache --repository=http://dl-cdn.alpinelinux.org/alpine/edge/testing ffmpeg

COPY . .

ENTRYPOINT [ "python" ]
CMD [ "app.py" ]